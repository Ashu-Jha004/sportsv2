generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url       = env("DATABASE_URL")   // aws-1-ap-south-1.pooler.supabase.com:6543
  directUrl = env("DIRECT_URL")
}

model Athlete {
  id                 String   @id @default(cuid())
  clerkUserId        String   @unique
  username           String   @unique
  email              String   @unique
  firstName          String
  lastName           String
  profileImage       String?
  dateOfBirth        DateTime
  gender             Gender
  bio                String?
  primarySport       Sport
  secondarySport     Sport?
  rank               Rank @default(PAWN)
  class              Class @default(E)
  roles              String[]
  isAdmin            Boolean @default(false)
  country            String
  state              String
  city               String
  latitude           Float
  longitude          Float
  onboardingComplete Boolean  @default(false)
  createdAt          DateTime @default(now())
  updatedAt          DateTime @updatedAt

  @@index([clerkUserId])
  @@index([country, state, city])
  @@index([latitude, longitude])
}
enum Rank {
  KING
  PAWN
  ROOK
  KNIGHT
  BISHOP
  QUEEN
}

enum Class {
  A
  B
  C
  D
  E
}

enum Gender {
  MALE
  FEMALE
  OTHER
  PREFER_NOT_TO_SAY
}

enum Sport {
  FOOTBALL
  BASKETBALL
  CRICKET
  TENNIS
  RUNNING
  SWIMMING
  OTHER
}
